/* ==========================================================================
  # cdrInput
  
  All values should map to variables in
  vars/cdrInput.vars.pcss
  in order to allow for theming

  TOC:

    :Base - Label
    :Base - Input container
    :Base - Input
      :States
      :Modifiers
        :Style Variants
    :Base - Media Frame
      :Modifiers
        :Aspect Ratios
          :normal
          :@small
          :@medium
          :@large
        :Cropping
      :Elements
========================================================================== */

/* ==========================================================================
  # INPUT LABEL
  ========================================================================== */
.cdr-label {
  color: $input-label-color-text;
  font-size: $input-label-font-size;
  line-height: $input-label-line-height;
  font-style: $input-label-font-style;
  font-weight: $input-label-font-weight;
  text-align: $input-label-text-align;

  &--error {
    color: $input-label-error-color-text;
  }

  &--disabled {
    color: $input-label-disabled-color-text;
  }
}

/* ==========================================================================
  # INPUT CONTAINER
  ========================================================================== */

.cdr-input-container {
  & + & {
    margin-top: $input-container-spacing;
  }
}

/* ==========================================================================
  # INPUT
  ========================================================================== */

.cdr-input {
  font-size: $input-font-size;
  line-height: $input-line-height;
  text-align: $input-text-align;
  color: $input-color-text;
  font-style: $input-font-style;
  font-weight: $input-font-weight;
  font-family: $input-font-family;
  background-color: $input-background-color;
  border-color: $input-border-color;
  border-style: $input-border-style;
  border-radius: $input-border-radius;
  border-width: $input-border-width;
  padding: $input-padding;
  height: $input-height;
  display: block;
  width: 100%;

  /* States
  ---------- */

  &[disabled] {
    background-color: $input-disabled-background-color;
    color: $input-disabled-text-color;
  }

  /* Style variants
    ========================================================================== */

  &--multiline {
    height: auto;
  }

  &--error {
    background-color: $input-error-background-color;
    border-color: $input-error-border-color;
    border-bottom-right-radius: 0;
    border-bottom-left-radius: 0;
  }

  &--warn {
    background-color: $input-warning-background-color;
    border-color: $input-warning-border-color;
    border-bottom-right-radius: 0;
    border-bottom-left-radius: 0;
  }

  &--preicon {
    padding-left: calc($sizing-size-sm-stretch * 2 + $sizing-size-md);
  }

  /* Size variants
    ========================================================================== */

  &--large {
    padding-top: $inset-md;
    padding-bottom: $inset-md;
    height: auto;
  }

  /* Pseudo elements
    ========================================================================== */

  &::placeholder {
    font-style: italic;
    font-size: $input-size-placeholder-text;
    line-height: $input-line-height-placeholder;
    color: $input-color-placeholder-text;
  }

  /* Block elements
    ========================================================================== */

  &__pre-icon {
    position: absolute;
    top: 50%;
    left: $sizing-size-md;
    transform: translateY(-50%);
  }
}

/* ==========================================================================
   # INPUT WRAPPER
   ========================================================================== */

/*
* TOC:
*
* Base class
* Style variants
* Block elements
*/

.cdr-input-wrap {
  position: relative;
  
  /* Block elements
    ========================================================================== */

  &__icon {
    position: absolute;
    top: calc(($sys-font-redwood-ui-30-line-height - $sys-font-redwood-ui-30-font-size) / 2 + $sizing-size-sm-stretch);
    right: $spacing-space-sm;
    height: $sys-font-redwood-ui-30-font-size;
    width: $sys-font-redwood-ui-30-font-size;

    &--valid > svg {
      fill: $sys-color-success;
    }

    &--warn > svg {
      fill: $sys-color-input-warning-border;
    }

    &--error > svg {
      fill: $sys-color-input-error-border;
    }
  }
}

/* ==========================================================================
   # ANIMATED ERRORS
   ========================================================================== */

.cdr-animated-errors {
  &-enter-active,
  &-leave-active {
    transition: opacity 350ms ease, transform 350ms ease;
    transform-origin: top;
  }

  &-leave-active + &-enter-active {
    transition-delay: 350ms;
    position: absolute;
    width: 100%;
  }

  &-enter,
  &-leave-to {
    opacity: 0;
    transform: scaleY(0);
  }
}

/* ==========================================================================
   # INPUT MESSAGES
   ========================================================================== */

/*
* TOC:
*
* Base class
* Block elements
*/

.cdr-input-messages {
  position: relative;
  @include sys-font-redwood-ui-20 ();

  /* Block elements
    ========================================================================== */

  &__notification {
    padding: $spacing-space-sm;
    border-style: solid;
    border-width: 1px;
    border-top: none;

    &:last-of-type {
      border-bottom-right-radius: $radius-input;
      border-bottom-left-radius: $radius-input;
    }

    &--error {
      border-color: $sys-color-input-error-border;
      background-color: $sys-color-input-error;
    }

    &--warn {
      border-color: $sys-color-input-warning-border;
      background-color: $sys-color-input-warning;
    }
  }
}
